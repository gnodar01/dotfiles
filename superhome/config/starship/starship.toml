"$schema" = 'https://starship.rs/config-schema.json'

# https://starship.rs/config/#prompt
format = """
$hostname\
$username\
$os\
$memory_usage\
$directory
$character
"""
right_format = """
${env_var.SHLVL}\
$python\
$pixi
"""
scan_timeout = 30 # ms
command_timeout = 500 # ms
# neline added by transient_shell
add_newline = false
follow_symlinks = true

palette = "dracula"

[palettes.dracula]
background = "#282a36"
current_line = "#44475a"
foreground = "#f8f8f2"
comment = "#6272a4"
cyan = "#8be9fd"
green = "#50fa7b"
orange = "#ffb86c"
pink = "#ff79c6"
purple = "#bd93f9"
red = "#ff5555"
yellow = "#f1fa8c"

## Left Prompts

# https://starship.rs/config/#character
[character]
format = '$symbol '
success_symbol = '[‚ùØ](bold green)'
error_symbol = '[‚ùØ](bold red)'
vimcmd_symbol = '[‚ùÆ](bold green)'
vimcmd_replace_one_symbol = '[‚ùÆ](bold purple)'
vimcmd_replace_symbol = '[‚ùÆ](bold purple)'
vimcmd_visual_symbol = '[‚ùÆ](bold yellow)'
disabled = false

# https://starship.rs/config/#package-version
[package]
  disabled = true

# https://starship.rs/config/#hostname
[hostname]
  style = 'bold cyan'
  ssh_only = false
  trim_at = '.'
  format = '[$ssh_symbol$hostname]($style) '

# https://starship.rs/config/#username
[username]
  style_user = 'bold dimmed yellow'
  show_always = true
  format = '\([$user]($style)\) '

# https://starship.rs/config/#os
[os]
  disabled = true
  style = 'bold orange'
  format = '[$name - $version]($style)'

# https://starship.rs/config/#memory-usage
[memory_usage]
  disabled = true
  style = 'bold dimmed white'
  threshold = 0
  format = 'using $symbol[ram $ram( | swap $swap)]($style) '

# https://starship.rs/config/#directory
[directory]
  truncation_length = 20
  truncate_to_repo = false
  style = 'bold purple'
  format = '[$path]($style)[$read_only]($read_only_style) '
  read_only = 'üîí'
  read_only_style = 'red'
  #truncation_symbol = '.../'
  truncation_symbol = ''
  before_repo_root_style = 'dimmed purple'
  repo_root_style = 'bold purple'
  repo_root_format = '[$before_root_path]($before_repo_root_style)[$repo_root]($repo_root_style)[$path]($style)[$read_only]($read_only_style) '
  home_symbol = '~'
  use_os_path_sep = true
  fish_style_pwd_dir_length = 3

[directory.substitutions]
  '~/Developer' = '(dev)'


## Right Prompts

# https://starship.rs/config/#environment-variable
[env_var.SHLVL]
  disabled = false
  default = '?'
  style = 'orange bold'
  #symbol = 'üéöÔ∏è'
  symbol = ''
  format = '[\($symbol$env_value\)]($style) '

[pixi]
  disabled = false
  format = '[$symbol(\($environment\) )]($style)'
  version_format = 'v${raw}'
  # fairy is a wide unicode char suffering from:
  # https://github.com/starship/starship/issues/6524
  symbol = 'üì¶ '
  style = 'yellow bold'
  show_default_environment = true
  pixi_binary = ['pixi']
  detect_extensions = []
  detect_files = ['pixi.toml']
  detect_folders = ['.pixi']

[python]
  disabled = false
  format = '[${symbol}(${version} )(\($virtualenv\) )]($style)'
  version_format = 'v${raw}'
  symbol = 'üêç '
  style = 'yellow bold'
  # customize python binary path for pixi
  python_binary = [
    # this is the python from PATH if in a pixi shell
    # (assuming no python on global PATH)
    "python",
    # fall back to pixi's python if it's available
    ".pixi/envs/default/bin/python",
  ]
  detect_extensions = ['py', 'ipynb']
  detect_files = [
    '.python-version',
    'Pipfile',
    '__init__.py',
    'pyproject.toml',
    'requirements.txt',
    'setup.py',
    'tox.ini',
    'pytest.ini',
    'pixi.toml',
    'pixi.lock'
  ]
  detect_folders = []
